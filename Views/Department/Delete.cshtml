@model CompanyPhonebook.Models.Department

@{
    ViewData["Title"] = "Delete Department";
}

<div class="container mt-4">
    <div class="row">
        <div class="col-md-6">
            <h2>Delete Department</h2>

            <!-- Warning message for user confirmation -->
            <div class="alert alert-danger">
                <h4>Are you sure you want to delete this department?</h4>
                <p>This action cannot be undone.</p>
            </div>

            <!-- Department details -->
            <div class="card mb-3">
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-4">@Html.DisplayNameFor(model => model.Name)</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.Name)</dd>

                        <dt class="col-sm-4">@Html.DisplayNameFor(model => model.PhoneExtension)</dt>
                        <dd class="col-sm-8">@Html.DisplayFor(model => model.PhoneExtension)</dd>

                        <dt class="col-sm-4">Associated Users</dt>
                        <dd class="col-sm-8">@Model.Users.Count</dd>
                    </dl>
                </div>
            </div>

            <!-- Delete confirmation form -->
            <form asp-action="Delete">
                <input type="hidden" asp-for="Id" />

                <!-- Warning about associated users -->
                @if (Model.Users.Any())
                {
                    <div class="alert alert-warning">
                        <strong>Warning:</strong> This department has associated users.
                        Please reassign or delete these users before deleting the department.
                    </div>
                }

                <!-- Action buttons -->
                <div class="mb-3">
                    @if (!Model.Users.Any())
                    {
                        <button type="submit" class="btn btn-danger">Delete</button>
                    }
                    <a asp-action="Index" class="btn btn-secondary">Back to List</a>
                </div>
            </form>
        </div>
    </div>
</div>